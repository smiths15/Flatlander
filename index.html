<!DOCTYPE html>
<!-- Doc will run module "store" when it loads-->
<html ng-app="store">
<head>
  <!--Twitter Bootstrap CDN CSS and JS-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  
  <script src=https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js></script>
 
  <!--AngularJS Google CDN-->
  <script src=https://ajax.googleapis.com/ajax/libs/angularjs/1.6.7/angular.min.js></script>
 
  <!--JS App-->
  <script type="text/javascript" src="app.js"></script>

  <title></title>
</head>
<!-- store is an alias for the StoreController-->
<body ng-controller="StoreController as store">
  <header style="text-align: center;">
  <h1>Flatlander Crafted Gems</h1>
  <h2> &mdash; an Angular store &mdash;</h2>  
  </header>
  
  <ul class="list-group">
    <li class="list-group-item" ng-repeat="product in store.products" ng-controller="GalleryController as gallery">
      <h3>{{product.name}}</h1>
      <em class="float-right">{{product.price | currency}}</em>
      
      <img ng-src="{{product.images[gallery.current].full}}"/>
      <ul class="m-4 clearfix" style="list-style: none;">
        <li class="float-left" ng-repeat="image in product.images">
          <img ng-src="{{image.full}}">
        </li>
      </ul>

    <!--Tabs and directives-->
      <section ng-controller="PanelController as panel">
        <ul class="nav nav-pills mb-4 mt-4">
          <li class="nav-item " ng-class="{ active: panel.isSelected(1)}"> 
            <a  class="nav-link active" href ng-click="panel.selectTab(1)">Description</a> 
          </li>
          <li class="nav-item ml-2 mr-2" ng-class="{ active: panel.isSelected(2)}"> 
            <a class="nav-link active" href ng-click="panel.selectTab(2)">Specifications</a> 
          </li>
          <li class="nav-item" ng-class="{ active: panel.isSelected(3)}">
           <a class="nav-link active" href ng-click="panel.selectTab(3)">Reviews</a> 
          </li>
        </ul>
      <!--Panels for tabs -->
      <div class="card" ng-show="panel.isSelected(1)">
        <h4 class="card-header">Description</h4>
        <blockquote class="card-body blockquote">{{product.description}}</blockquote>
      </div>
      <div class="card" ng-show="panel.isSelected(2)">
        <h4 class="card-header">Specifications</h4>
        <blockquote class="card-body blockquote">Not yet</blockquote>
      </div>
      <div class="card" ng-show="panel.isSelected(3)">
        <h4 class="card-header">Reviews</h4>
        <!-- Reviews -->
        <blockquote class="card-body blockquote" ng-repeat="review in product.reviews">
          <b>Stars: {{review.stars}}</b>
          {{review.body}}
          <cite>by: {{review.author}}</cite>
        </blockquote>

        <!-- Review Form -->
        <form name="reviewForm" class="p-4">
          <blockquote class="card-body blockquote">
            <b>Stars: {{review.stars}}</b>
            {{review.body}}
            <cite>by: {{review.author}}</cite>
          </blockquote>
          <h4>Submit a Review</h4>
          <div class="form-group">
            <select class="form-control" ng-model="review.stars">
              <option value="1">1 star</option>
              <option value="2">2 stars</option>
              . . .
            </select>  
          </div>
          
          <div class="form-group">
            <label>Comments</label>
            <textarea class="form-control" ng-model="review.body"></textarea>
          </div>
          <div class="form-group">
            <label>by:</label>
            <input class="form-control" type="email" placeholder="name@email.com" ng-model="review.author"/>
          </div>
          <input type="submit" value="Submit" />  
        </form>
      </div>
      </section>
    


      <button class="mt-4" ng-show="{{product.canPurchase}}">Add to Cart</button>
    </li>
  </ul>
</body>
</html>

